export interface Question {
  text: string;
  options: [string, string];
}

export interface TestResult {
  type: string;
  title: string;
  description: string;
  image: string;
  characteristics: string[];
}

export interface Test {
  id: string;
  title: string;
  description: string;
  duration: string;
  icon: string;
  gradient: string;
  questions: Question[];
  results: {
    high: TestResult;
    low: TestResult;
  };
}

export const tests: Test[] = [
  {
    id: "personality",
    title: "ì—ê²ë‚¨/í…Œí† ë‚¨ í…ŒìŠ¤íŠ¸",
    description: "ë‹¹ì‹ ì€ ì—ê²ë‚¨(ê°œë°©ì ) ì„±í–¥ì¸ê°€ìš”? ì•„ë‹ˆë©´ í…Œí† ë‚¨(ë‚´í–¥ì ) ì„±í–¥ì¸ê°€ìš”? 10ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ì•Œì•„ë³´ì„¸ìš”!",
    duration: "3ë¶„ ì†Œìš”",
    icon: "fas fa-users",
    gradient: "from-primary via-secondary to-accent",
    questions: [
      {
        text: "ì¹œêµ¬ê°€ ê³ ë¯¼ì„ í„¸ì–´ë†“ì„ ë•Œ ë‹¹ì‹ ì€?",
        options: ["í•¨ê»˜ ê³µê°í•˜ë©° ìœ„ë¡œí•œë‹¤", "í•´ê²° ë°©ë²•ì„ ì œì‹œí•œë‹¤"]
      },
      {
        text: "ì£¼ë§ì— ì„ í˜¸í•˜ëŠ” í™œë™ì€?",
        options: ["ê°€ì¡±Â·ì¹œêµ¬ì™€ ì¦ê±°ìš´ ì‹œê°„ ë³´ë‚´ê¸°", "ê°œì¸ì ì¸ ëª©í‘œë‚˜ ì·¨ë¯¸ì— ëª°ë‘í•˜ê¸°"]
      },
      {
        text: "ì¤‘ìš”í•œ ê²°ì •ì„ í•  ë•Œ ë‹¹ì‹ ì€?",
        options: ["ê°ì •ê³¼ ê´€ê³„ë¥¼ ìš°ì„ í•œë‹¤", "ë…¼ë¦¬ì™€ ê²°ê³¼ë¥¼ ìš°ì„ í•œë‹¤"]
      },
      {
        text: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ë‹¹ì‹ ì€?",
        options: ["ì£¼ë³€ ì‚¬ëŒì—ê²Œ í„¸ì–´ë†“ê³  ìœ„ë¡œë°›ëŠ”ë‹¤", "í˜¼ì ì¡°ìš©íˆ ì •ë¦¬í•˜ê±°ë‚˜ ìš´ë™í•œë‹¤"]
      },
      {
        text: "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ë‹¹ì‹ ì˜ ê°•ì ì€?",
        options: ["ì‚¬ëŒë“¤ ì‚¬ì´ ë¶„ìœ„ê¸°ë¥¼ ë§ì¶”ê³  ì¡°ìœ¨í•œë‹¤", "ëª©í‘œë¥¼ ì •í•˜ê³  ê²°ê³¼ë¥¼ ì´ëŒì–´ë‚¸ë‹¤"]
      },
      {
        text: "ê°ˆë“± ìƒí™©ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ìƒëŒ€ë°© ê¸°ë¶„ì„ ë°°ë ¤í•˜ë©° ë¶€ë“œëŸ½ê²Œ í’€ë ¤ê³  í•œë‹¤", "ì§ì ‘ì ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  í•œë‹¤"]
      },
      {
        text: "ìƒˆë¡œìš´ í™˜ê²½ì— ì ì‘í•  ë•Œ?",
        options: ["ë¹ ë¥´ê²Œ ì‚¬ëŒë“¤ê³¼ ì¹œí•´ì§€ë©° ì ì‘í•œë‹¤", "ìƒí™©ì„ ë¶„ì„í•˜ê³  ì¡°ìš©íˆ ì ì‘í•œë‹¤"]
      },
      {
        text: "ì¼ìƒì—ì„œ ë” ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ê²ƒì€?",
        options: ["ì‚¬ëŒë“¤ê³¼ì˜ ê´€ê³„ì™€ ì •ì„œì  ì•ˆì •", "ì„±ì·¨ì™€ ì„±ê³¼, ë¯¸ë˜ ëª©í‘œ"]
      },
      {
        text: "íƒ€ì¸ê³¼ì˜ ê´€ê³„ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ê³µê° ëŠ¥ë ¥ì´ ì¢‹ë‹¤ëŠ” ë§ì„ ë“£ëŠ”ë‹¤", "ì˜ì§€ê°€ ê°•í•˜ë‹¤ëŠ” ë§ì„ ë“£ëŠ”ë‹¤"]
      },
      {
        text: "ì•ìœ¼ë¡œì˜ ì‚¶ì—ì„œ ë” ì¤‘ìš”í•œ ê²ƒì€?",
        options: ["ì‚¬ë‘ê³¼ ìœ ëŒ€ê°", "ì„±ì·¨ì™€ ì„±ê³µ"]
      }
    ],
    results: {
      high: {
        type: "ì—ê²ë‚¨",
        title: "ë‹¹ì‹ ì€ ì—ê²ë‚¨ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ì‚¬ëŒë“¤ê³¼ ì–´ìš¸ë¦¬ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ê³ , ìƒˆë¡œìš´ í™˜ê²½ì—ì„œë„ ë¹ ë¥´ê²Œ ì ì‘í•˜ëŠ” íƒ€ì…ì´ì—ìš”! ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³  ì ê·¹ì ì¸ ì„±ê²©ìœ¼ë¡œ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ ê¸ì •ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ê°€ë”ì€ í˜¼ìë§Œì˜ ì‹œê°„ë„ í•„ìš”í•˜ë‹¤ëŠ” ê±¸ ìŠì§€ ë§ˆì„¸ìš”! âœ¨",
        image: "/extrovert.png",
        characteristics: ["ì‚¬êµì ", "ì ê·¹ì ", "ì—ë„ˆì§€ ë„˜ì¹¨", "ë¦¬ë”ì‹­"]
      },
      low: {
        type: "í…Œí† ë‚¨",
        title: "ë‹¹ì‹ ì€ í…Œí† ë‚¨ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ê¹Šì´ ìˆëŠ” ì‚¬ê³ ë¥¼ í•˜ë©°, ì†Œìˆ˜ì˜ ì‚¬ëŒë“¤ê³¼ ì§„ì†”í•œ ê´€ê³„ë¥¼ ë§ºëŠ” ê²ƒì„ ì„ í˜¸í•´ìš”. ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€ ì„±ê²©ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ ë‹¤ì–‘í•œ ê´€ì ì„ ê³ ë ¤í•˜ëŠ” í¸ì…ë‹ˆë‹¤. í˜¼ìë§Œì˜ ì‹œê°„ì„ í†µí•´ ì—ë„ˆì§€ë¥¼ ì¶©ì „í•˜ëŠ” íƒ€ì…ì´ì—ìš”! ğŸŒ™",
        image: "/introvert.png",
        characteristics: ["ì‹ ì¤‘í•¨", "ê¹Šì´ ìˆëŠ” ì‚¬ê³ ", "ì§„ì†”í•¨", "ì§‘ì¤‘ë ¥"]
      }
    }
  },
  {
    id: "mbti",
    title: "MBTI ê°„ë‹¨ í…ŒìŠ¤íŠ¸",
    description: "16ê°€ì§€ ì„±ê²© ìœ í˜• ì¤‘ ë‹¹ì‹ ì˜ MBTIëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!",
    duration: "5ë¶„ ì†Œìš”",
    icon: "fas fa-chart-pie",
    gradient: "from-emerald-500 via-blue-500 to-purple-500",
    questions: [
      {
        text: "íŒŒí‹°ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ì—¬ëŸ¬ ì‚¬ëŒê³¼ ëŒ€í™”ë¥¼ ë‚˜ëˆˆë‹¤", "ì†Œìˆ˜ì˜ ì‚¬ëŒê³¼ ê¹Šì€ ëŒ€í™”ë¥¼ í•œë‹¤"]
      },
      {
        text: "ì •ë³´ë¥¼ ë°›ì•„ë“¤ì¼ ë•Œ?",
        options: ["êµ¬ì²´ì ì¸ ì‚¬ì‹¤ì„ ì¤‘ìš”ì‹œí•œë‹¤", "ê°€ëŠ¥ì„±ê³¼ ì˜ë¯¸ë¥¼ ì°¾ëŠ”ë‹¤"]
      },
      {
        text: "ê²°ì •ì„ ë‚´ë¦´ ë•Œ?",
        options: ["ë…¼ë¦¬ì  ë¶„ì„ì„ í•œë‹¤", "ê°€ì¹˜ì™€ ê°ì •ì„ ê³ ë ¤í•œë‹¤"]
      },
      {
        text: "ì¼ìƒìƒí™œì—ì„œ?",
        options: ["ê³„íšì„ ì„¸ìš°ê³  ë”°ë¥¸ë‹¤", "ìœ ì—°í•˜ê²Œ ìƒí™©ì— ë§ì¶˜ë‹¤"]
      },
      {
        text: "ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ë°©ë²•ì€?",
        options: ["ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚¸ë‹¤", "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°–ëŠ”ë‹¤"]
      }
    ],
    results: {
      high: {
        type: "ì™¸í–¥ì  ìœ í˜•",
        title: "ë‹¹ì‹ ì€ ì™¸í–¥ì  ì„±ê²©ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ í™œë°œí•˜ê³  ì‚¬êµì ì¸ ì„±ê²©ìœ¼ë¡œ ì‚¬ëŒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ì–´ìš”. ìƒˆë¡œìš´ ê²½í—˜ì„ ì¦ê¸°ê³  ì ê·¹ì ìœ¼ë¡œ ì„¸ìƒê³¼ ì†Œí†µí•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤!",
        image: "/extrovert.jpg",
        characteristics: ["ì™¸í–¥ì ", "í™œë°œí•¨", "ì‚¬êµì ", "ì ê·¹ì "]
      },
      low: {
        type: "ë‚´í–¥ì  ìœ í˜•",
        title: "ë‹¹ì‹ ì€ ë‚´í–¥ì  ì„±ê²©ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ê¹Šì´ ìˆëŠ” ì‚¬ê³ ë¥¼ í†µí•´ ì—ë„ˆì§€ë¥¼ ì–»ê³ , ì˜ë¯¸ ìˆëŠ” ê´€ê³„ë¥¼ ì¤‘ìš”ì‹œí•´ìš”. ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€ ì ‘ê·¼ì„ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤!",
        image: "/introvert.jpg",
        characteristics: ["ë‚´í–¥ì ", "ì‹ ì¤‘í•¨", "ê¹Šì´ ìˆìŒ", "ì§‘ì¤‘ë ¥"]
      }
    }
  }
];

export function getTestById(id: string): Test | undefined {
  return tests.find(test => test.id === id);
}

export function calculateResult(testId: string, answers: string[]): TestResult & { percentage: number } {
  const test = getTestById(testId);
  if (!test) {
    throw new Error("Test not found");
  }

  const aCount = answers.filter(answer => answer === 'A').length;
  const percentage = Math.round((aCount / answers.length) * 100);
  
  const result = percentage >= 60 ? test.results.high : test.results.low;
  
  return {
    ...result,
    percentage
  };
}
