export interface Question {
  text: string;
  options: [string, string];
}

export interface TestResult {
  type: string;
  title: string;
  description: string;
  image: string;
  characteristics: string[];
}

export interface Test {
  id: string;
  title: string;
  description: string;
  duration: string;
  icon: string;
  gradient: string;
  questions: Question[];
  results: {
    high: TestResult;
    low: TestResult;
  };
}

export const tests: Test[] = [
  {
    id: "personality",
    title: "ì—ê²ë‚¨/í…Œí† ë‚¨ í…ŒìŠ¤íŠ¸",
    description: "ì—¬ì„±ì„±ì´ ê°•í•œ(ê³µê°, ê°ì •, ê´€ê³„ ì§€í–¥) ì—ê²ë‚¨ì¸ì§€, ë‚¨ì„±ì„±ì´ ê°•í•œ(ë…¼ë¦¬, ì„±ì·¨, ê²°ê³¼ ì§€í–¥) í…Œí† ë‚¨ì¸ì§€ 10ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ì•Œì•„ë³´ì„¸ìš”!",
    duration: "3ë¶„ ì†Œìš”",
    icon: "fas fa-users",
    gradient: "from-primary via-secondary to-accent",
    questions: [
      {
        text: "ì¹œêµ¬ê°€ í˜ë“¤ì–´í•  ë•Œ ë‹¹ì‹ ì˜ ë°˜ì‘ì€?",
        options: ["ê°ì •ì„ ê³µê°í•˜ê³  ìœ„ë¡œí•œë‹¤", "ë¬¸ì œ í•´ê²° ë°©ì•ˆì„ ì œì‹œí•œë‹¤"]
      },
      {
        text: "ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•Œ ë‹¹ì‹ ì€?",
        options: ["ìƒëŒ€ë°©ì˜ ê°ì •ê³¼ ê´€ê³„ë¥¼ ìš°ì„ í•œë‹¤", "ë…¼ë¦¬ì  ê·¼ê±°ì™€ ê²°ê³¼ë¥¼ ìš°ì„ í•œë‹¤"]
      },
      {
        text: "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ ë‹¹ì‹ ì˜ ì—­í• ì€?",
        options: ["ë¶„ìœ„ê¸° ì¡°ìœ¨ê³¼ í˜‘ë ¥ì„ ì´ëˆë‹¤", "ëª©í‘œ ì„¤ì •ê³¼ ì„±ê³¼ë¥¼ ì£¼ë„í•œë‹¤"]
      },
      {
        text: "ê°ˆë“± ìƒí™©ì´ ë°œìƒí–ˆì„ ë•Œ?",
        options: ["ìƒëŒ€ë°© ê¸°ë¶„ì„ ë°°ë ¤í•˜ë©° ë¶€ë“œëŸ½ê²Œ í•´ê²°í•œë‹¤", "ì§ì ‘ì ìœ¼ë¡œ ë¬¸ì œë¥¼ ì§€ì í•˜ê³  í•´ê²°í•œë‹¤"]
      },
      {
        text: "ì¼ìƒì—ì„œ ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
        options: ["ì •ì„œì  ì•ˆì •ê³¼ ê´€ê³„", "ì„±ì·¨ì™€ ê²°ê³¼"]
      },
      {
        text: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ì£¼ë¡œ í•˜ëŠ” í–‰ë™ì€?",
        options: ["ì£¼ë³€ ì‚¬ëŒê³¼ ëŒ€í™”í•˜ë©° ê°ì •ì„ ë‚˜ëˆˆë‹¤", "í˜¼ì ì¡°ìš©íˆ ì •ë¦¬í•˜ê±°ë‚˜ ìš´ë™í•œë‹¤"]
      },
      {
        text: "ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚¬ì„ ë•Œ ë‹¹ì‹ ì€?",
        options: ["ìƒëŒ€ë°©ì˜ ê°ì •ì— ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•œë‹¤", "ìƒí™©ì„ íŒŒì•…í•˜ê³  ë¶„ì„í•œë‹¤"]
      },
      {
        text: "íƒ€ì¸ê³¼ì˜ ê´€ê³„ì—ì„œ ìì£¼ ë“£ëŠ” í‰ê°€ëŠ”?",
        options: ["ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ë‹¤", "ì˜ì§€ê°€ ê°•í•˜ë‹¤"]
      },
      {
        text: "ì£¼ë§ì— ë” ëŒë¦¬ëŠ” í™œë™ì€?",
        options: ["ê°€ì¡±, ì¹œêµ¬ì™€ ê°ì • ë‚˜ëˆ„ê¸°", "ê°œì¸ ëª©í‘œë‚˜ ìê¸°ê³„ë°œ"]
      },
      {
        text: "ì¸ìƒì—ì„œ ë” ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ê°€ì¹˜ëŠ”?",
        options: ["ì‚¬ë‘ê³¼ ìœ ëŒ€ê°", "ì„±ì·¨ì™€ ì„±ê³µ"]
      }
    ],
    results: {
      high: {
        type: "ì—ê²ë‚¨",
        title: "ë‚˜ëŠ” ì—ê²ë‚¨ì¼ê¹Œ, í…Œí† ë‚¨ì¼ê¹Œ? ğŸ¤”",
        description: "ì—¬ì„±ì„±ì´ ê°•í•œ(ê³µê°, ê°ì •, ê´€ê³„ ì§€í–¥) ì—ê²ë‚¨ì…ë‹ˆë‹¤. íƒ€ì¸ì˜ ê°ì •ì— ê³µê°í•˜ê³ , ë”°ëœ»í•œ ìœ„ë¡œì™€ ë°°ë ¤ë¡œ ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ê¹Šì€ ìœ ëŒ€ê°ì„ ë§ºëŠ” ë° ëŠ¥í•©ë‹ˆë‹¤. ê°ì •ê³¼ ê´€ê³„ë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ë©°, ì¡°í™”ë¡œìš´ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” ë° ìì—°ìŠ¤ëŸ½ê²Œ í˜ì„ ë°œíœ˜í•´ìš”. ğŸŒ¸",
        image: "/extrovert.png",
        characteristics: ["ê³µê°ë ¥", "ê´€ê³„ ì§€í–¥", "ì •ì„œì  ì•ˆì •", "ë°°ë ¤ì‹¬", "ìœ ëŒ€ê°"]
      },
      low: {
        type: "í…Œí† ë‚¨",
        title: "ë‚˜ëŠ” ì—ê²ë‚¨ì¼ê¹Œ, í…Œí† ë‚¨ì¼ê¹Œ? ğŸ¤”",
        description: "ë‚¨ì„±ì„±ì´ ê°•í•œ(ë…¼ë¦¬, ì„±ì·¨, ê²°ê³¼ ì§€í–¥) í…Œí† ë‚¨ì…ë‹ˆë‹¤. ë…¼ë¦¬ì  ì‚¬ê³ ì™€ ëª©í‘œ ì§€í–¥ì  íƒœë„ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ , ì„±ê³¼ì™€ ì„±ê³µì„ ì¤‘ì‹œí•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ë…ë¦½ì ì´ê³  ì˜ì§€ê°€ ê°•í•˜ë©°, íš¨ìœ¨ì ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ë° íƒì›”í•´ìš”. ğŸ†",
        image: "/introvert.png",
        characteristics: ["ë…¼ë¦¬ì ", "ì„±ì·¨ ì§€í–¥", "ë…ë¦½ì ", "ì˜ì§€ë ¥", "íš¨ìœ¨ì„±"]
      }
    }
  },
  {
    id: "mbti",
    title: "MBTI ê°„ë‹¨ í…ŒìŠ¤íŠ¸",
    description: "16ê°€ì§€ ì„±ê²© ìœ í˜• ì¤‘ ë‹¹ì‹ ì˜ MBTIëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!",
    duration: "5ë¶„ ì†Œìš”",
    icon: "fas fa-chart-pie",
    gradient: "from-emerald-500 via-blue-500 to-purple-500",
    questions: [
      {
        text: "íŒŒí‹°ì—ì„œ ë‹¹ì‹ ì€?",
        options: ["ì—¬ëŸ¬ ì‚¬ëŒê³¼ ëŒ€í™”ë¥¼ ë‚˜ëˆˆë‹¤", "ì†Œìˆ˜ì˜ ì‚¬ëŒê³¼ ê¹Šì€ ëŒ€í™”ë¥¼ í•œë‹¤"]
      },
      {
        text: "ì •ë³´ë¥¼ ë°›ì•„ë“¤ì¼ ë•Œ?",
        options: ["êµ¬ì²´ì ì¸ ì‚¬ì‹¤ì„ ì¤‘ìš”ì‹œí•œë‹¤", "ê°€ëŠ¥ì„±ê³¼ ì˜ë¯¸ë¥¼ ì°¾ëŠ”ë‹¤"]
      },
      {
        text: "ê²°ì •ì„ ë‚´ë¦´ ë•Œ?",
        options: ["ë…¼ë¦¬ì  ë¶„ì„ì„ í•œë‹¤", "ê°€ì¹˜ì™€ ê°ì •ì„ ê³ ë ¤í•œë‹¤"]
      },
      {
        text: "ì¼ìƒìƒí™œì—ì„œ?",
        options: ["ê³„íšì„ ì„¸ìš°ê³  ë”°ë¥¸ë‹¤", "ìœ ì—°í•˜ê²Œ ìƒí™©ì— ë§ì¶˜ë‹¤"]
      },
      {
        text: "ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ë°©ë²•ì€?",
        options: ["ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ë‚¸ë‹¤", "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°–ëŠ”ë‹¤"]
      }
    ],
    results: {
      high: {
        type: "ì™¸í–¥ì  ìœ í˜•",
        title: "ë‹¹ì‹ ì€ ì™¸í–¥ì  ì„±ê²©ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ í™œë°œí•˜ê³  ì‚¬êµì ì¸ ì„±ê²©ìœ¼ë¡œ ì‚¬ëŒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ì–´ìš”. ìƒˆë¡œìš´ ê²½í—˜ì„ ì¦ê¸°ê³  ì ê·¹ì ìœ¼ë¡œ ì„¸ìƒê³¼ ì†Œí†µí•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤!",
        image: "/extrovert.jpg",
        characteristics: ["ì™¸í–¥ì ", "í™œë°œí•¨", "ì‚¬êµì ", "ì ê·¹ì "]
      },
      low: {
        type: "ë‚´í–¥ì  ìœ í˜•",
        title: "ë‹¹ì‹ ì€ ë‚´í–¥ì  ì„±ê²©ì´ì—ìš”!",
        description: "ë‹¹ì‹ ì€ ê¹Šì´ ìˆëŠ” ì‚¬ê³ ë¥¼ í†µí•´ ì—ë„ˆì§€ë¥¼ ì–»ê³ , ì˜ë¯¸ ìˆëŠ” ê´€ê³„ë¥¼ ì¤‘ìš”ì‹œí•´ìš”. ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€ ì ‘ê·¼ì„ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤!",
        image: "/introvert.jpg",
        characteristics: ["ë‚´í–¥ì ", "ì‹ ì¤‘í•¨", "ê¹Šì´ ìˆìŒ", "ì§‘ì¤‘ë ¥"]
      }
    }
  }
];

export function getTestById(id: string): Test | undefined {
  return tests.find(test => test.id === id);
}

export function calculateResult(testId: string, answers: string[]): TestResult & { percentage: number } {
  const test = getTestById(testId);
  if (!test) {
    throw new Error("Test not found");
  }

  const aCount = answers.filter(answer => answer === 'A').length;
  const percentage = Math.round((aCount / answers.length) * 100);
  
  const result = percentage >= 60 ? test.results.high : test.results.low;
  
  return {
    ...result,
    percentage
  };
}
